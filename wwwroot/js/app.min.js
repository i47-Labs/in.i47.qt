const quote={name:"Quote",data:()=>({config:{type:"US",protocol:"M",power:"W",size:"20",display:"M"},offer:{quantity:0,discount:30,duration:7,initial:2700},selected:[]}),created(){},computed:{listed(){let t="US"==this.config.type?9900:7900;return t+="M"==this.config.protocol?0:600,t+="W"==this.config.power?0:800,t+="20"==this.config.size?0:"25"==this.config.size?900:1800,t+="M"==this.config.display?0:300,t},offered(){return this.listed*(100-this.offer.discount)/100},moq(){return this.offer.quantity>800?{buy:.5*this.listed*.84,rent:1800,amc:.06}:this.offer.quantity>300?{buy:.5*this.listed,rent:2100,amc:.08}:{buy:.5*this.listed*1.16,rent:2300,amc:.09}},amc(){let t=this.offer.quantity>800?.06:this.offer.quantity>300?.08:.09;return Math.round(t*this.offered)},emi(){let t=this.offered-(isNaN(this.offer.initial)?0:this.offer.initial);return this.PMT(.16/12,12*this.offer.duration,-t)},tcor(){return this.emi*this.offer.duration*12+(isNaN(this.offer.initial)?0:this.offer.initial)},grandtotal(){let t=0,i=0,e=0;return this.selected.forEach((s=>{t+=s.q*s.lp*(1-s.d/100),i+=s.oi*s.q,e+=s.pi*s.q})),{t:t,i:i,p:e}},subscription(){return this.offered-this.moq.buy>500?0:10},model(){let t=this.config;return t.type+t.size+"-"+t.protocol+t.power+"/"+t.display},incentive(){return 200+.5*(this.offered-this.moq.buy)},modelname(){let t=this.config;return("US"==t.type?"Ultrasonic ":"Pulse Based ")+t.size+"mm -"+("M"==t.protocol?" Wired":" Wireless")+("W"==t.power?" without Battery":" with Battery")+" /"+("M"==t.display?" IoT":" with Display")},type:()=>[{k:"US",v:"Ultrasonic"},{k:"FS",v:"Pulse Count"}],protocol:()=>[{k:"M",v:"Modbus"},{k:"L",v:"LoRa"},{k:"R",v:"RF Mesh"}],power:()=>[{k:"W",v:"Wired"},{k:"B",v:"Battery"}],size:()=>[{k:"20",v:"20mm"},{k:"25",v:"25mm"},{k:"32",v:"32mm"}],display:()=>[{k:"M",v:"Mobile Only"},{k:"D",v:"On-Device"}]},methods:{addlineitem(){if(0!=this.offer.quantity){var t=this.selected.filter((t=>t.m==this.model))[0];null==t?this.selected.push({m:this.model,n:this.modelname,q:this.offer.quantity,lp:this.listed,d:this.offer.discount,li:this.moq.rent+500,oi:this.offer.initial,e:this.emi,pi:this.incentive}):(t.q=this.offer.quantity,t.d=this.offer.discount,t.li=this.moq.rent+500,t.oi=this.offer.initial,t.e=this.emi)}else alert("Please select quantity before adding.")},PMT(t,i,e,s,o){var r,n;return s||(s=0),o||(o=0),0===t?-(e+s)/i:(r=-t*(e*(n=Math.pow(1+t,i))+s)/(n-1),1===o&&(r/=1+t),Math.round(r))}}};
